(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7968],{14503:(e,t,a)=>{"use strict";a.d(t,{dj:()=>p});var s=a(12115);let n=0,i=new Map,r=e=>{if(i.has(e))return;let t=setTimeout(()=>{i.delete(e),c({type:"REMOVE_TOAST",toastId:e})},1e6);i.set(e,t)},o=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:a}=t;return a?r(a):e.toasts.forEach(e=>{r(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===a||void 0===a?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},d=[],l={toasts:[]};function c(e){l=o(l,e),d.forEach(e=>{e(l)})}function u(e){let{...t}=e,a=(n=(n+1)%Number.MAX_SAFE_INTEGER).toString(),s=()=>c({type:"DISMISS_TOAST",toastId:a});return c({type:"ADD_TOAST",toast:{...t,id:a,open:!0,onOpenChange:e=>{e||s()}}}),{id:a,dismiss:s,update:e=>c({type:"UPDATE_TOAST",toast:{...e,id:a}})}}function p(){let[e,t]=s.useState(l);return s.useEffect(()=>(d.push(t),()=>{let e=d.indexOf(t);e>-1&&d.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>c({type:"DISMISS_TOAST",toastId:e})}}},45716:(e,t,a)=>{Promise.resolve().then(a.bind(a,75830))},53999:(e,t,a)=>{"use strict";a.d(t,{cn:()=>i});var s=a(52596),n=a(39688);function i(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,n.QP)((0,s.$)(t))}},72226:(e,t,a)=>{"use strict";a.d(t,{Gq:()=>i,K$:()=>o,LZ:()=>r});var s=a(30098);let n=(e,t)=>{var a;return{id:e.id,name:e.name,nameKey:void 0,description:e.description||"",descriptionKey:void 0,price:e.price,image:e.image||"/placeholder.svg?width=200&height=200",category:t||e.category_name||"Main Course",category_id:e.category_id,category_name:e.category_name,calories:e.calories||Math.floor(600*Math.random())+300,allergens:e.allergens||[],stock_qty:e.stock_qty,minimum_qty:e.minimum_qty||1,available:!1!==e.available&&(null===e.stock_qty||(null!==(a=e.stock_qty)&&void 0!==a?a:0)>0)}};async function i(){try{var e,t;let a=await s.u.getMenu(),i=(null===(e=a.data.items)||void 0===e?void 0:e.map(e=>n(e,e.category_name)))||[],r=(null===(t=a.data.categories)||void 0===t?void 0:t.map(e=>e.name))||[],o={};return i.forEach(e=>{let t=e.category;o[t]||(o[t]=[]),o[t].push(e)}),{categories:Object.values(o),menuItems:i,categoryNames:r}}catch(e){return console.error("Failed to fetch menu data from API, using fallback data:",e),{categories:[],menuItems:o,categoryNames:[]}}}let r=[],o=[]},75830:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>m});var s=a(95155),n=a(78525),i=a(12115),r=a(98611),o=a(53999);let d=i.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)(r.bL,{className:(0,o.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",a),...n,ref:t,children:(0,s.jsx)(r.zi,{className:(0,o.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})})});d.displayName=r.bL.displayName;var l=a(82714),c=a(89852),u=a(97168),p=a(14503);function m(){let{paymentOptions:e,togglePaymentOption:t,tipSettings:a,updateTipSettings:i}=(0,n.W)(),{toast:r}=(0,p.dj)();return(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-bold mb-6",children:"Payment & Tip Settings"}),(0,s.jsxs)("div",{className:"grid md:grid-cols-2 gap-8",children:[(0,s.jsxs)("div",{className:"bg-white p-8 rounded-xl shadow space-y-6",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold",children:"Payment Methods"}),e.map(e=>(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)(l.J,{htmlFor:e.id,className:"capitalize text-lg",children:"applepay"===e.id?"Apple Pay":"googlepay"===e.id?"Google Pay":e.id}),(0,s.jsx)(d,{id:e.id,checked:e.enabled,onCheckedChange:()=>{t(e.id),r({title:"Payment Option Updated"})}})]},e.id))]}),(0,s.jsxs)("div",{className:"bg-white p-8 rounded-xl shadow space-y-6",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold",children:"Tip Settings"}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)(l.J,{htmlFor:"enable-tips",className:"text-lg",children:"Enable Tipping"}),(0,s.jsx)(d,{id:"enable-tips",checked:a.enabled,onCheckedChange:e=>i({enabled:e})})]}),(0,s.jsxs)("form",{onSubmit:e=>{e.preventDefault(),i({percentages:new FormData(e.currentTarget).get("percentages").split(",").map(e=>Number(e.trim())).filter(Boolean)}),r({title:"Tip Settings Updated"})},className:"space-y-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(l.J,{htmlFor:"percentages",children:"Tip Percentages (comma-separated)"}),(0,s.jsx)(c.p,{id:"percentages",name:"percentages",defaultValue:a.percentages.join(", "),disabled:!a.enabled})]}),(0,s.jsx)(u.$,{type:"submit",disabled:!a.enabled,children:"Save Tip Settings"})]})]})]})]})}},78525:(e,t,a)=>{"use strict";a.d(t,{W:()=>c});var s=a(65453),n=a(46786),i=a(72226);let r={appName:"PayMyDine",logoUrl:"",tableNumber:7},o=[{id:"visa",enabled:!0},{id:"mastercard",enabled:!0},{id:"paypal",enabled:!0},{id:"cash",enabled:!0},{id:"applepay",enabled:!0},{id:"googlepay",enabled:!0}],d={enabled:!0,percentages:[10,15,20],defaultPercentage:15},l={businessName:"PayMyDine Restaurant",accountId:"",stripeSecretKey:"",stripePublishableKey:"",paypalClientId:"",paypalClientSecret:"",bankAccountNumber:"",bankRoutingNumber:"",bankName:"",currency:"USD",countryCode:"US"},c=(0,s.v)()((0,n.Zr)((e,t)=>({settings:r,menuItems:i.K$,paymentOptions:o,tipSettings:d,merchantSettings:l,isInitialized:!1,updateSettings:t=>e(e=>({settings:{...e.settings,...t}})),updateMenuItem:t=>e(e=>({menuItems:e.menuItems.map(e=>e.id===t.id?t:e)})),setMenuItems:t=>e({menuItems:t}),togglePaymentOption:t=>e(e=>({paymentOptions:e.paymentOptions.map(e=>e.id===t?{...e,enabled:!e.enabled}:e)})),updateTipSettings:t=>e(e=>({tipSettings:{...e.tipSettings,...t}})),updateMerchantSettings:t=>e(e=>({merchantSettings:{...e.merchantSettings,...t}}))}),{name:"paymydine-cms-storage",storage:(0,n.KU)(()=>localStorage),onRehydrateStorage:()=>e=>{e&&(e.isInitialized=!0)}}))},82714:(e,t,a)=>{"use strict";a.d(t,{J:()=>l});var s=a(95155),n=a(12115),i=a(40968),r=a(74466),o=a(53999);let d=(0,r.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),l=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)(i.b,{ref:t,className:(0,o.cn)(d(),a),...n})});l.displayName=i.b.displayName},89852:(e,t,a)=>{"use strict";a.d(t,{p:()=>r});var s=a(95155),n=a(12115),i=a(53999);let r=n.forwardRef((e,t)=>{let{className:a,type:n,...r}=e;return(0,s.jsx)("input",{type:n,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:t,...r})});r.displayName="Input"},97168:(e,t,a)=>{"use strict";a.d(t,{$:()=>l});var s=a(95155),n=a(12115),i=a(99708),r=a(74466),o=a(53999);let d=(0,r.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),l=n.forwardRef((e,t)=>{let{className:a,variant:n,size:r,asChild:l=!1,...c}=e,u=l?i.DX:"button";return(0,s.jsx)(u,{className:(0,o.cn)(d({variant:n,size:r,className:a})),ref:t,...c})});l.displayName="Button"}},e=>{var t=t=>e(e.s=t);e.O(0,[9352,3273,98,8441,1684,7358],()=>t(45716)),_N_E=e.O()}]);