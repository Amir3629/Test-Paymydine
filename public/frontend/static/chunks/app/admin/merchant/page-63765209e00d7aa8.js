(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2591],{12311:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>w});var a=s(95155),r=s(12115),n=s(78525),i=s(89852),l=s(82714),o=s(97168),c=s(14503),d=s(88482),u=s(18880),p=s(53999);let m=u.bL,h=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(u.B8,{ref:t,className:(0,p.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",s),...r})});h.displayName=u.B8.displayName;let g=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(u.l9,{ref:t,className:(0,p.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",s),...r})});g.displayName=u.l9.displayName;let f=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(u.UC,{ref:t,className:(0,p.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",s),...r})});f.displayName=u.UC.displayName;var x=s(85339),y=s(81586),v=s(40646),b=s(78749),j=s(92657),N=s(27414);let S=(0,s(74466).F)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),k=r.forwardRef((e,t)=>{let{className:s,variant:r,...n}=e;return(0,a.jsx)("div",{ref:t,role:"alert",className:(0,p.cn)(S({variant:r}),s),...n})});k.displayName="Alert",r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("h5",{ref:t,className:(0,p.cn)("mb-1 font-medium leading-none tracking-tight",s),...r})}).displayName="AlertTitle";let C=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,p.cn)("text-sm [&_p]:leading-relaxed",s),...r})});function w(){let{merchantSettings:e,updateMerchantSettings:t}=(0,n.W)(),{toast:s}=(0,c.dj)(),[u,p]=(0,r.useState)(!1),[S,w]=(0,r.useState)(e),A=(e,t)=>{w(s=>({...s,[e]:t}))},I=async e=>{s({title:"Testing Connection...",description:"Testing ".concat(e," configuration"),variant:"default"}),setTimeout(()=>{s({title:"Connection Successful",description:"".concat(e," configuration is valid"),variant:"default"})},2e3)},_=S.stripeSecretKey&&S.stripePublishableKey,T=S.paypalClientId&&S.paypalClientSecret,R=S.bankAccountNumber&&S.bankRoutingNumber&&S.bankName;return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold mb-2",children:"Merchant Settings"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Configure your payment processing and bank account details"})]}),(0,a.jsxs)(k,{children:[(0,a.jsx)(x.A,{className:"h-4 w-4"}),(0,a.jsxs)(C,{children:[(0,a.jsx)("strong",{children:"Security Notice:"})," Your sensitive payment information is stored locally in your browser. For production use, consider using environment variables or a secure configuration service."]})]}),(0,a.jsxs)(m,{defaultValue:"business",className:"space-y-6",children:[(0,a.jsxs)(h,{className:"grid w-full grid-cols-4",children:[(0,a.jsx)(g,{value:"business",children:"Business Info"}),(0,a.jsx)(g,{value:"stripe",children:"Stripe"}),(0,a.jsx)(g,{value:"paypal",children:"PayPal"}),(0,a.jsx)(g,{value:"bank",children:"Bank Account"})]}),(0,a.jsx)(f,{value:"business",children:(0,a.jsxs)(d.Zp,{children:[(0,a.jsxs)(d.aR,{children:[(0,a.jsxs)(d.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(y.A,{className:"h-5 w-5"}),"Business Information"]}),(0,a.jsx)(d.BT,{children:"Basic business details used for payment processing"})]}),(0,a.jsx)(d.Wu,{className:"space-y-4",children:(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(l.J,{htmlFor:"businessName",children:"Business Name"}),(0,a.jsx)(i.p,{id:"businessName",value:S.businessName,onChange:e=>A("businessName",e.target.value),placeholder:"Your Restaurant Name"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(l.J,{htmlFor:"accountId",children:"Merchant Account ID"}),(0,a.jsx)(i.p,{id:"accountId",value:S.accountId,onChange:e=>A("accountId",e.target.value),placeholder:"MERCHANT_12345"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(l.J,{htmlFor:"currency",children:"Currency"}),(0,a.jsx)(i.p,{id:"currency",value:S.currency,onChange:e=>A("currency",e.target.value),placeholder:"USD"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(l.J,{htmlFor:"countryCode",children:"Country Code"}),(0,a.jsx)(i.p,{id:"countryCode",value:S.countryCode,onChange:e=>A("countryCode",e.target.value),placeholder:"US"})]})]})})]})}),(0,a.jsx)(f,{value:"stripe",children:(0,a.jsxs)(d.Zp,{children:[(0,a.jsxs)(d.aR,{children:[(0,a.jsx)(d.ZB,{className:"flex items-center gap-2",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(y.A,{className:"h-5 w-5"}),"Stripe Configuration",_&&(0,a.jsx)(v.A,{className:"h-4 w-4 text-green-500"})]})}),(0,a.jsxs)(d.BT,{children:["Configure Stripe for credit card processing. Get your keys from"," ",(0,a.jsx)("a",{href:"https://dashboard.stripe.com/apikeys",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"Stripe Dashboard"})]})]}),(0,a.jsxs)(d.Wu,{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(l.J,{htmlFor:"stripePublishableKey",children:"Publishable Key"}),(0,a.jsx)(i.p,{id:"stripePublishableKey",value:S.stripePublishableKey,onChange:e=>A("stripePublishableKey",e.target.value),placeholder:"pk_test_..."})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(l.J,{htmlFor:"stripeSecretKey",children:"Secret Key"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(i.p,{id:"stripeSecretKey",type:u?"text":"password",value:S.stripeSecretKey,onChange:e=>A("stripeSecretKey",e.target.value),placeholder:"sk_test_..."}),(0,a.jsx)(o.$,{type:"button",variant:"ghost",size:"icon",className:"absolute right-2 top-1/2 -translate-y-1/2",onClick:()=>p(!u),children:u?(0,a.jsx)(b.A,{className:"h-4 w-4"}):(0,a.jsx)(j.A,{className:"h-4 w-4"})})]})]}),_&&(0,a.jsx)(o.$,{onClick:()=>I("Stripe"),variant:"outline",className:"w-full",children:"Test Stripe Connection"})]})]})}),(0,a.jsx)(f,{value:"paypal",children:(0,a.jsxs)(d.Zp,{children:[(0,a.jsxs)(d.aR,{children:[(0,a.jsx)(d.ZB,{className:"flex items-center gap-2",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(y.A,{className:"h-5 w-5"}),"PayPal Configuration",T&&(0,a.jsx)(v.A,{className:"h-4 w-4 text-green-500"})]})}),(0,a.jsxs)(d.BT,{children:["Configure PayPal for payment processing. Get your credentials from"," ",(0,a.jsx)("a",{href:"https://developer.paypal.com/developer/applications/",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"PayPal Developer"})]})]}),(0,a.jsxs)(d.Wu,{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(l.J,{htmlFor:"paypalClientId",children:"Client ID"}),(0,a.jsx)(i.p,{id:"paypalClientId",value:S.paypalClientId,onChange:e=>A("paypalClientId",e.target.value),placeholder:"AYjcyDKmeE..."})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(l.J,{htmlFor:"paypalClientSecret",children:"Client Secret"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(i.p,{id:"paypalClientSecret",type:u?"text":"password",value:S.paypalClientSecret,onChange:e=>A("paypalClientSecret",e.target.value),placeholder:"EHD8wKmeE..."}),(0,a.jsx)(o.$,{type:"button",variant:"ghost",size:"icon",className:"absolute right-2 top-1/2 -translate-y-1/2",onClick:()=>p(!u),children:u?(0,a.jsx)(b.A,{className:"h-4 w-4"}):(0,a.jsx)(j.A,{className:"h-4 w-4"})})]})]}),T&&(0,a.jsx)(o.$,{onClick:()=>I("PayPal"),variant:"outline",className:"w-full",children:"Test PayPal Connection"})]})]})}),(0,a.jsx)(f,{value:"bank",children:(0,a.jsxs)(d.Zp,{children:[(0,a.jsxs)(d.aR,{children:[(0,a.jsx)(d.ZB,{className:"flex items-center gap-2",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(N.A,{className:"h-5 w-5"}),"Bank Account Details",R&&(0,a.jsx)(v.A,{className:"h-4 w-4 text-green-500"})]})}),(0,a.jsx)(d.BT,{children:"Your bank account where payments will be deposited"})]}),(0,a.jsxs)(d.Wu,{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(l.J,{htmlFor:"bankName",children:"Bank Name"}),(0,a.jsx)(i.p,{id:"bankName",value:S.bankName,onChange:e=>A("bankName",e.target.value),placeholder:"Chase Bank"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(l.J,{htmlFor:"bankAccountNumber",children:"Account Number"}),(0,a.jsx)("div",{className:"relative",children:(0,a.jsx)(i.p,{id:"bankAccountNumber",type:u?"text":"password",value:S.bankAccountNumber,onChange:e=>A("bankAccountNumber",e.target.value),placeholder:"1234567890"})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(l.J,{htmlFor:"bankRoutingNumber",children:"Routing Number"}),(0,a.jsx)(i.p,{id:"bankRoutingNumber",value:S.bankRoutingNumber,onChange:e=>A("bankRoutingNumber",e.target.value),placeholder:"021000021"})]})]}),(0,a.jsxs)(k,{children:[(0,a.jsx)(x.A,{className:"h-4 w-4"}),(0,a.jsx)(C,{children:"This information is used to configure automatic deposits from your payment processor to your bank account."})]})]})]})})]}),(0,a.jsxs)("div",{className:"flex justify-end space-x-4",children:[(0,a.jsx)(o.$,{variant:"outline",onClick:()=>w(e),children:"Reset"}),(0,a.jsx)(o.$,{onClick:()=>{t(S),s({title:"Settings Saved",description:"Your merchant settings have been updated successfully.",variant:"default"})},className:"bg-gradient-to-r from-paydine-champagne to-paydine-rose-beige text-paydine-elegant-gray",children:"Save Settings"})]}),(0,a.jsxs)(d.Zp,{className:"bg-yellow-50 border-yellow-200",children:[(0,a.jsx)(d.aR,{children:(0,a.jsx)(d.ZB,{className:"text-yellow-800",children:"Setup Instructions"})}),(0,a.jsxs)(d.Wu,{className:"text-yellow-700 space-y-2",children:[(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"1. Stripe Setup:"})," Create a Stripe account, get your API keys, and connect your bank account in the Stripe dashboard."]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"2. PayPal Setup:"})," Create a PayPal Business account and get your API credentials from the Developer console."]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"3. Bank Account:"})," Ensure your bank account is verified with your payment processors for automatic deposits."]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"4. Testing:"})," Use test mode initially, then switch to live mode when ready for production."]})]})]})]})}C.displayName="AlertDescription"},14503:(e,t,s)=>{"use strict";s.d(t,{dj:()=>p});var a=s(12115);let r=0,n=new Map,i=e=>{if(n.has(e))return;let t=setTimeout(()=>{n.delete(e),d({type:"REMOVE_TOAST",toastId:e})},1e6);n.set(e,t)},l=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:s}=t;return s?i(s):e.toasts.forEach(e=>{i(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===s||void 0===s?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},o=[],c={toasts:[]};function d(e){c=l(c,e),o.forEach(e=>{e(c)})}function u(e){let{...t}=e,s=(r=(r+1)%Number.MAX_SAFE_INTEGER).toString(),a=()=>d({type:"DISMISS_TOAST",toastId:s});return d({type:"ADD_TOAST",toast:{...t,id:s,open:!0,onOpenChange:e=>{e||a()}}}),{id:s,dismiss:a,update:e=>d({type:"UPDATE_TOAST",toast:{...e,id:s}})}}function p(){let[e,t]=a.useState(c);return a.useEffect(()=>(o.push(t),()=>{let e=o.indexOf(t);e>-1&&o.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>d({type:"DISMISS_TOAST",toastId:e})}}},53999:(e,t,s)=>{"use strict";s.d(t,{cn:()=>n});var a=s(52596),r=s(39688);function n(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,r.QP)((0,a.$)(t))}},72226:(e,t,s)=>{"use strict";s.d(t,{Gq:()=>n,K$:()=>l,LZ:()=>i});var a=s(30098);let r=(e,t)=>{var s;return{id:e.id,name:e.name,nameKey:void 0,description:e.description||"",descriptionKey:void 0,price:e.price,image:e.image||"/placeholder.svg?width=200&height=200",category:t||e.category_name||"Main Course",category_id:e.category_id,category_name:e.category_name,calories:e.calories||Math.floor(600*Math.random())+300,allergens:e.allergens||[],stock_qty:e.stock_qty,minimum_qty:e.minimum_qty||1,available:!1!==e.available&&(null===e.stock_qty||(null!==(s=e.stock_qty)&&void 0!==s?s:0)>0)}};async function n(){try{var e,t;let s=await a.u.getMenu(),n=(null===(e=s.data.items)||void 0===e?void 0:e.map(e=>r(e,e.category_name)))||[],i=(null===(t=s.data.categories)||void 0===t?void 0:t.map(e=>e.name))||[],l={};return n.forEach(e=>{let t=e.category;l[t]||(l[t]=[]),l[t].push(e)}),{categories:Object.values(l),menuItems:n,categoryNames:i}}catch(e){return console.error("Failed to fetch menu data from API, using fallback data:",e),{categories:[],menuItems:l,categoryNames:[]}}}let i=[],l=[]},77777:(e,t,s)=>{Promise.resolve().then(s.bind(s,12311))},78525:(e,t,s)=>{"use strict";s.d(t,{W:()=>d});var a=s(65453),r=s(46786),n=s(72226);let i={appName:"PayMyDine",logoUrl:"",tableNumber:7},l=[{id:"visa",enabled:!0},{id:"mastercard",enabled:!0},{id:"paypal",enabled:!0},{id:"cash",enabled:!0},{id:"applepay",enabled:!0},{id:"googlepay",enabled:!0}],o={enabled:!0,percentages:[10,15,20],defaultPercentage:15},c={businessName:"PayMyDine Restaurant",accountId:"",stripeSecretKey:"",stripePublishableKey:"",paypalClientId:"",paypalClientSecret:"",bankAccountNumber:"",bankRoutingNumber:"",bankName:"",currency:"USD",countryCode:"US"},d=(0,a.v)()((0,r.Zr)((e,t)=>({settings:i,menuItems:n.K$,paymentOptions:l,tipSettings:o,merchantSettings:c,isInitialized:!1,updateSettings:t=>e(e=>({settings:{...e.settings,...t}})),updateMenuItem:t=>e(e=>({menuItems:e.menuItems.map(e=>e.id===t.id?t:e)})),setMenuItems:t=>e({menuItems:t}),togglePaymentOption:t=>e(e=>({paymentOptions:e.paymentOptions.map(e=>e.id===t?{...e,enabled:!e.enabled}:e)})),updateTipSettings:t=>e(e=>({tipSettings:{...e.tipSettings,...t}})),updateMerchantSettings:t=>e(e=>({merchantSettings:{...e.merchantSettings,...t}}))}),{name:"paymydine-cms-storage",storage:(0,r.KU)(()=>localStorage),onRehydrateStorage:()=>e=>{e&&(e.isInitialized=!0)}}))},82714:(e,t,s)=>{"use strict";s.d(t,{J:()=>c});var a=s(95155),r=s(12115),n=s(40968),i=s(74466),l=s(53999);let o=(0,i.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(n.b,{ref:t,className:(0,l.cn)(o(),s),...r})});c.displayName=n.b.displayName},88482:(e,t,s)=>{"use strict";s.d(t,{BT:()=>c,Wu:()=>d,ZB:()=>o,Zp:()=>i,aR:()=>l});var a=s(95155),r=s(12115),n=s(53999);let i=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",s),...r})});i.displayName="Card";let l=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",s),...r})});l.displayName="CardHeader";let o=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",s),...r})});o.displayName="CardTitle";let c=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",s),...r})});c.displayName="CardDescription";let d=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",s),...r})});d.displayName="CardContent",r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",s),...r})}).displayName="CardFooter"},89852:(e,t,s)=>{"use strict";s.d(t,{p:()=>i});var a=s(95155),r=s(12115),n=s(53999);let i=r.forwardRef((e,t)=>{let{className:s,type:r,...i}=e;return(0,a.jsx)("input",{type:r,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:t,...i})});i.displayName="Input"},97168:(e,t,s)=>{"use strict";s.d(t,{$:()=>c});var a=s(95155),r=s(12115),n=s(99708),i=s(74466),l=s(53999);let o=(0,i.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=r.forwardRef((e,t)=>{let{className:s,variant:r,size:i,asChild:c=!1,...d}=e,u=c?n.DX:"button";return(0,a.jsx)(u,{className:(0,l.cn)(o({variant:r,size:i,className:s})),ref:t,...d})});c.displayName="Button"}},e=>{var t=t=>e(e.s=t);e.O(0,[9352,8009,4168,98,8441,1684,7358],()=>t(77777)),_N_E=e.O()}]);