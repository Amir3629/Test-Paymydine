"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1749],{8665:(e,t,a)=>{a.r(t),a.d(t,{default:()=>n});let n=function(e){let{src:t,width:a,quality:n=75}=e;if(t.startsWith("http://")||t.startsWith("https://"))return t;if(t.startsWith("/api/media/")){if("localhost"===window.location.hostname||"127.0.0.1"===window.location.hostname)return t;let e=window.location.hostname,a=window.location.protocol;return"".concat(a,"//").concat(e).concat(t)}return t}},21802:(e,t,a)=>{a.d(t,{n:()=>s});var n=a(65453),i=a(46786),r=a(90970);let s=(0,n.v)()((0,i.Zr)((e,t)=>({language:"en",setLanguage:t=>e({language:t}),t:e=>r.P[t().language][e]||r.P.en[e]}),{name:"paymydine-language-storage",storage:(0,i.KU)(()=>localStorage)}))},24446:(e,t,a)=>{a.d(t,{x:()=>r});var n=a(65453),i=a(46786);let r=(0,n.v)()((0,i.Zr)(e=>({items:[],isCartOpen:!1,tableInfo:null,addToCart:function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return e(e=>{let n=e.items.find(e=>e.item.id===t.id);if(n){let i=n.quantity+a;return i<=0?{items:e.items.filter(e=>e.item.id!==t.id)}:{items:e.items.map(e=>e.item.id===t.id?{...e,quantity:i}:e)}}return a<=0?e:{items:[...e.items,{item:t,quantity:a}]}})},removeFromCart:t=>e(e=>{let a=e.items.find(e=>e.item.id===t.id);return a&&a.quantity>1?{items:e.items.map(e=>e.item.id===t.id?{...e,quantity:e.quantity-1}:e)}:{items:e.items.filter(e=>e.item.id!==t.id)}}),updateQuantity:(t,a)=>e(e=>({items:e.items.map(e=>e.item.id===t?{...e,quantity:a}:e).filter(e=>e.quantity>0)})),clearCart:()=>e({items:[]}),toggleCart:()=>e(e=>({isCartOpen:!e.isCartOpen})),setCartOpen:t=>e({isCartOpen:t}),setTableInfo:t=>e({tableInfo:t})}),{name:"paymydine-cart-storage",storage:(0,i.KU)(()=>localStorage)}))},72226:(e,t,a)=>{a.d(t,{Gq:()=>r,K$:()=>l,LZ:()=>s});var n=a(30098);let i=(e,t)=>{var a;return{id:e.id,name:e.name,nameKey:void 0,description:e.description||"",descriptionKey:void 0,price:e.price,image:e.image||"/placeholder.svg?width=200&height=200",category:t||e.category_name||"Main Course",category_id:e.category_id,category_name:e.category_name,calories:e.calories||Math.floor(600*Math.random())+300,allergens:e.allergens||[],stock_qty:e.stock_qty,minimum_qty:e.minimum_qty||1,available:!1!==e.available&&(null===e.stock_qty||(null!==(a=e.stock_qty)&&void 0!==a?a:0)>0)}};async function r(){try{var e,t;let a=await n.u.getMenu(),r=(null===(e=a.data.items)||void 0===e?void 0:e.map(e=>i(e,e.category_name)))||[],s=(null===(t=a.data.categories)||void 0===t?void 0:t.map(e=>e.name))||[],l={};return r.forEach(e=>{let t=e.category;l[t]||(l[t]=[]),l[t].push(e)}),{categories:Object.values(l),menuItems:r,categoryNames:s}}catch(e){return console.error("Failed to fetch menu data from API, using fallback data:",e),{categories:[],menuItems:l,categoryNames:[]}}}let s=[],l=[]},78525:(e,t,a)=>{a.d(t,{W:()=>c});var n=a(65453),i=a(46786),r=a(72226);let s={appName:"PayMyDine",logoUrl:"",tableNumber:7},l=[{id:"visa",enabled:!0},{id:"mastercard",enabled:!0},{id:"paypal",enabled:!0},{id:"cash",enabled:!0},{id:"applepay",enabled:!0},{id:"googlepay",enabled:!0}],o={enabled:!0,percentages:[10,15,20],defaultPercentage:15},d={businessName:"PayMyDine Restaurant",accountId:"",stripeSecretKey:"",stripePublishableKey:"",paypalClientId:"",paypalClientSecret:"",bankAccountNumber:"",bankRoutingNumber:"",bankName:"",currency:"USD",countryCode:"US"},c=(0,n.v)()((0,i.Zr)((e,t)=>({settings:s,menuItems:r.K$,paymentOptions:l,tipSettings:o,merchantSettings:d,isInitialized:!1,updateSettings:t=>e(e=>({settings:{...e.settings,...t}})),updateMenuItem:t=>e(e=>({menuItems:e.menuItems.map(e=>e.id===t.id?t:e)})),setMenuItems:t=>e({menuItems:t}),togglePaymentOption:t=>e(e=>({paymentOptions:e.paymentOptions.map(e=>e.id===t?{...e,enabled:!e.enabled}:e)})),updateTipSettings:t=>e(e=>({tipSettings:{...e.tipSettings,...t}})),updateMerchantSettings:t=>e(e=>({merchantSettings:{...e.merchantSettings,...t}}))}),{name:"paymydine-cms-storage",storage:(0,i.KU)(()=>localStorage),onRehydrateStorage:()=>e=>{e&&(e.isInitialized=!0)}}))},91725:(e,t,a)=>{a.d(t,{g:()=>v});var n=a(95155),i=a(53999),r=a(21802),s=a(43463),l=a(97168);function o(){let{language:e,setLanguage:t}=(0,r.n)();return(0,n.jsx)(l.$,{variant:"ghost",size:"icon",onClick:()=>{t("en"===e?"de":"en")},className:"relative w-12 h-10 rounded-full text-paydine-elegant-gray hover:bg-paydine-champagne/20 overflow-hidden font-semibold",children:(0,n.jsx)(s.P.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},exit:{y:-20,opacity:0},transition:{duration:.3},className:"absolute inset-0 flex items-center justify-center",children:e.toUpperCase()},e)})}var d=a(78525),c=a(75317),m=a(24446),u=a(35169),g=a(6874),p=a.n(g),y=a(35695),h=a(66766),f=a(12115);function b(e){var t;let{className:a,tableNumber:s}=e,{t:g}=(0,r.n)(),{settings:f}=(0,d.W)(),{settings:b}=(0,c.C)(),{tableInfo:v}=(0,m.x)(),x=(0,y.usePathname)(),N=(0,y.useSearchParams)(),j="/"===x,w=x.match(/^\/table\/\d+$/),_=null===(t=x.match(/^\/table\/(\d+)/))||void 0===t?void 0:t[1],k=N.get("table_id"),C=s||(null==v?void 0:v.table_name)||(_?"Table ".concat(_):null)||(k?"Table ".concat(k):null)||"Table ".concat(b.table_number)||0;b.restaurant_name||f.appName;let S=_||(null==v?void 0:v.table_id)||k?"/table/".concat(_||(null==v?void 0:v.table_id)||k):"/";return(0,n.jsxs)("div",{className:(0,i.cn)("relative w-full max-w-[1200px] mx-auto px-4",a),children:[!(j||w)&&(0,n.jsx)("div",{className:"absolute left-2 md:left-4 top-4",children:(0,n.jsx)(l.$,{variant:"ghost",size:"sm",className:"w-[5.5rem] h-10 rounded-full text-paydine-elegant-gray hover:bg-paydine-champagne/20 px-3",asChild:!0,children:(0,n.jsxs)(p(),{href:S,className:"flex items-center justify-center gap-1",children:[(0,n.jsx)(u.A,{className:"h-4 w-4"}),(0,n.jsx)("span",{className:"text-sm font-semibold",children:"Home"})]})})}),(0,n.jsx)("div",{className:"absolute right-2 md:right-4 top-4",children:(0,n.jsx)(o,{})}),(0,n.jsx)("div",{className:"text-center",children:j||w?(0,n.jsxs)("div",{className:"flex flex-col items-center",children:[(0,n.jsx)("div",{className:"relative w-32 h-32 mb-4",children:(0,n.jsx)(h.default,{src:"/images/logo.png",alt:"PayMyDine Logo",fill:!0,className:"object-contain",style:{filter:"brightness(0) saturate(100%) invert(23%) sepia(8%) saturate(1037%) hue-rotate(315deg) brightness(94%) contrast(86%)"}})}),(0,n.jsx)("p",{className:"text-lg text-paydine-elegant-gray tracking-[0.2em] uppercase font-medium bg-paydine-champagne/10 inline-block px-6 py-1 rounded-full",children:C})]}):(0,n.jsx)("div",{className:"flex flex-col items-center",children:(0,n.jsx)("p",{className:"text-lg text-paydine-elegant-gray tracking-[0.2em] uppercase font-medium bg-paydine-champagne/10 inline-block px-6 py-1 rounded-full",children:C})})})]})}function v(e){let{className:t,tableNumber:a}=e;return(0,n.jsx)(f.Suspense,{fallback:(0,n.jsx)("div",{className:(0,i.cn)("relative w-full max-w-[1200px] mx-auto px-4",t),children:(0,n.jsx)("div",{className:"text-center",children:(0,n.jsx)("div",{className:"flex flex-col items-center",children:(0,n.jsx)("p",{className:"text-lg text-paydine-elegant-gray tracking-[0.2em] uppercase font-medium bg-paydine-champagne/10 inline-block px-6 py-1 rounded-full",children:"Loading..."})})})}),children:(0,n.jsx)(b,{className:t,tableNumber:a})})}},97168:(e,t,a)=>{a.d(t,{$:()=>d});var n=a(95155),i=a(12115),r=a(99708),s=a(74466),l=a(53999);let o=(0,s.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=i.forwardRef((e,t)=>{let{className:a,variant:i,size:s,asChild:d=!1,...c}=e,m=d?r.DX:"button";return(0,n.jsx)(m,{className:(0,l.cn)(o({variant:i,size:s,className:a})),ref:t,...c})});d.displayName="Button"}}]);